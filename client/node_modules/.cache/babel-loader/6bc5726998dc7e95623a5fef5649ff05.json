{"ast":null,"code":"import React from\"react\";import{useDispatch,useSelector}from\"react-redux\";import lostSound from\"../../sounds/lost.mp3\";import wonSound from\"../../sounds/won.mp3\";import{selectIsLevelCompleted,selectScoreOnTheLevel}from\"../../redux/progress/selectors\";import{setIsCorrectCurrentBird,setSelectedBird}from\"../../redux/birds/actions\";import{setIsLevelCompleted,setScoreOnTheLevel,setTotalScore}from\"../../redux/progress/actions\";import{selectCurrentUser}from\"../../redux/user/selectors\";import\"./styles.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AnswerOptions=function AnswerOptions(_ref){var birds=_ref.birds,currentBird=_ref.currentBird;var SOUND_VOLUME=0.1;var MAX_SCORE_ON_THE_LEVEL=5;var dispatch=useDispatch();var isLevelCompleted=useSelector(selectIsLevelCompleted);var scoreOnTheLevel=useSelector(selectScoreOnTheLevel);var currentUser=useSelector(selectCurrentUser);return/*#__PURE__*/_jsx(\"div\",{className:\"answer-options\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"answers-group\",children:birds.map(function(bird){return/*#__PURE__*/_jsxs(\"li\",{className:\"answers-item\",onClick:function onClick(){if(currentUser){dispatch(setSelectedBird(bird));var click=document.querySelector(\"#\".concat(bird.name));if(!isLevelCompleted){if(bird.name===currentBird.name){click.classList.add(\"won\");var sound=new Audio(wonSound);sound.volume=SOUND_VOLUME;sound.play();dispatch(setIsCorrectCurrentBird(true));dispatch(setIsLevelCompleted(true));dispatch(setTotalScore(scoreOnTheLevel));dispatch(setScoreOnTheLevel(MAX_SCORE_ON_THE_LEVEL));}else{click.classList.remove(\"won\");if(!click.classList.contains(\"lost\")){var _sound=new Audio(lostSound);_sound.volume=SOUND_VOLUME;_sound.play();dispatch(setScoreOnTheLevel(scoreOnTheLevel-1));}click.classList.add(\"lost\");}}}},children:[/*#__PURE__*/_jsx(\"span\",{id:bird.name,className:\"circle\"}),bird.name]},bird.name);})})});};export default AnswerOptions;","map":{"version":3,"sources":["C:/Users/олег/Desktop/iTechArt_Стажировка/songbird/songbird/src/components/answerOptions/index.jsx"],"names":["React","useDispatch","useSelector","lostSound","wonSound","selectIsLevelCompleted","selectScoreOnTheLevel","setIsCorrectCurrentBird","setSelectedBird","setIsLevelCompleted","setScoreOnTheLevel","setTotalScore","selectCurrentUser","AnswerOptions","birds","currentBird","SOUND_VOLUME","MAX_SCORE_ON_THE_LEVEL","dispatch","isLevelCompleted","scoreOnTheLevel","currentUser","map","bird","click","document","querySelector","name","classList","add","sound","Audio","volume","play","remove","contains"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAEA,MAAOC,CAAAA,SAAP,KAAsB,uBAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,sBAArB,CACA,OACEC,sBADF,CAEEC,qBAFF,KAGO,gCAHP,CAIA,OACEC,uBADF,CAEEC,eAFF,KAGO,2BAHP,CAIA,OACEC,mBADF,CAEEC,kBAFF,CAGEC,aAHF,KAIO,8BAJP,CAKA,OAASC,iBAAT,KAAkC,4BAAlC,CAEA,MAAO,eAAP,C,wFAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAA4B,IAAzBC,CAAAA,KAAyB,MAAzBA,KAAyB,CAAlBC,WAAkB,MAAlBA,WAAkB,CAChD,GAAMC,CAAAA,YAAY,CAAG,GAArB,CACA,GAAMC,CAAAA,sBAAsB,CAAG,CAA/B,CAEA,GAAMC,CAAAA,QAAQ,CAAGjB,WAAW,EAA5B,CACA,GAAMkB,CAAAA,gBAAgB,CAAGjB,WAAW,CAACG,sBAAD,CAApC,CACA,GAAMe,CAAAA,eAAe,CAAGlB,WAAW,CAACI,qBAAD,CAAnC,CACA,GAAMe,CAAAA,WAAW,CAAGnB,WAAW,CAACU,iBAAD,CAA/B,CAEA,mBACE,YAAK,SAAS,CAAC,gBAAf,uBACE,WAAI,SAAS,CAAC,eAAd,UACGE,KAAK,CAACQ,GAAN,CAAU,SAACC,IAAD,qBACT,YAEE,SAAS,CAAC,cAFZ,CAGE,OAAO,CAAE,kBAAM,CACb,GAAIF,WAAJ,CAAiB,CACfH,QAAQ,CAACV,eAAe,CAACe,IAAD,CAAhB,CAAR,CACA,GAAMC,CAAAA,KAAK,CAAGC,QAAQ,CAACC,aAAT,YAA2BH,IAAI,CAACI,IAAhC,EAAd,CACA,GAAI,CAACR,gBAAL,CAAuB,CACrB,GAAII,IAAI,CAACI,IAAL,GAAcZ,WAAW,CAACY,IAA9B,CAAoC,CAClCH,KAAK,CAACI,SAAN,CAAgBC,GAAhB,CAAoB,KAApB,EACA,GAAMC,CAAAA,KAAK,CAAG,GAAIC,CAAAA,KAAJ,CAAU3B,QAAV,CAAd,CACA0B,KAAK,CAACE,MAAN,CAAehB,YAAf,CACAc,KAAK,CAACG,IAAN,GACAf,QAAQ,CAACX,uBAAuB,CAAC,IAAD,CAAxB,CAAR,CACAW,QAAQ,CAACT,mBAAmB,CAAC,IAAD,CAApB,CAAR,CACAS,QAAQ,CAACP,aAAa,CAACS,eAAD,CAAd,CAAR,CACAF,QAAQ,CAACR,kBAAkB,CAACO,sBAAD,CAAnB,CAAR,CACD,CATD,IASO,CACLO,KAAK,CAACI,SAAN,CAAgBM,MAAhB,CAAuB,KAAvB,EACA,GAAI,CAACV,KAAK,CAACI,SAAN,CAAgBO,QAAhB,CAAyB,MAAzB,CAAL,CAAuC,CACrC,GAAML,CAAAA,MAAK,CAAG,GAAIC,CAAAA,KAAJ,CAAU5B,SAAV,CAAd,CACA2B,MAAK,CAACE,MAAN,CAAehB,YAAf,CACAc,MAAK,CAACG,IAAN,GACAf,QAAQ,CAACR,kBAAkB,CAACU,eAAe,CAAG,CAAnB,CAAnB,CAAR,CACD,CACDI,KAAK,CAACI,SAAN,CAAgBC,GAAhB,CAAoB,MAApB,EACD,CACF,CACF,CACF,CA7BH,wBA+BE,aAAM,EAAE,CAAEN,IAAI,CAACI,IAAf,CAAqB,SAAS,SAA9B,EA/BF,CAgCGJ,IAAI,CAACI,IAhCR,GACOJ,IAAI,CAACI,IADZ,CADS,EAAV,CADH,EADF,EADF,CA0CD,CAnDD,CAqDA,cAAed,CAAAA,aAAf","sourcesContent":["import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport lostSound from \"../../sounds/lost.mp3\";\nimport wonSound from \"../../sounds/won.mp3\";\nimport {\n  selectIsLevelCompleted,\n  selectScoreOnTheLevel,\n} from \"../../redux/progress/selectors\";\nimport {\n  setIsCorrectCurrentBird,\n  setSelectedBird,\n} from \"../../redux/birds/actions\";\nimport {\n  setIsLevelCompleted,\n  setScoreOnTheLevel,\n  setTotalScore,\n} from \"../../redux/progress/actions\";\nimport { selectCurrentUser } from \"../../redux/user/selectors\";\n\nimport \"./styles.scss\";\n\nconst AnswerOptions = ({ birds, currentBird }) => {\n  const SOUND_VOLUME = 0.1;\n  const MAX_SCORE_ON_THE_LEVEL = 5;\n\n  const dispatch = useDispatch();\n  const isLevelCompleted = useSelector(selectIsLevelCompleted);\n  const scoreOnTheLevel = useSelector(selectScoreOnTheLevel);\n  const currentUser = useSelector(selectCurrentUser);\n\n  return (\n    <div className=\"answer-options\">\n      <ul className=\"answers-group\">\n        {birds.map((bird) => (\n          <li\n            key={bird.name}\n            className=\"answers-item\"\n            onClick={() => {\n              if (currentUser) {\n                dispatch(setSelectedBird(bird));\n                const click = document.querySelector(`#${bird.name}`);\n                if (!isLevelCompleted) {\n                  if (bird.name === currentBird.name) {\n                    click.classList.add(\"won\");\n                    const sound = new Audio(wonSound);\n                    sound.volume = SOUND_VOLUME;\n                    sound.play();\n                    dispatch(setIsCorrectCurrentBird(true));\n                    dispatch(setIsLevelCompleted(true));\n                    dispatch(setTotalScore(scoreOnTheLevel));\n                    dispatch(setScoreOnTheLevel(MAX_SCORE_ON_THE_LEVEL));\n                  } else {\n                    click.classList.remove(\"won\");\n                    if (!click.classList.contains(\"lost\")) {\n                      const sound = new Audio(lostSound);\n                      sound.volume = SOUND_VOLUME;\n                      sound.play();\n                      dispatch(setScoreOnTheLevel(scoreOnTheLevel - 1));\n                    }\n                    click.classList.add(\"lost\");\n                  }\n                }\n              }\n            }}\n          >\n            <span id={bird.name} className={`circle`} />\n            {bird.name}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default AnswerOptions;\n"]},"metadata":{},"sourceType":"module"}