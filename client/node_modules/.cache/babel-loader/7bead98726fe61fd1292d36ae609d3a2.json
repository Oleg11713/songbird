{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/\\u043E\\u043B\\u0435\\u0433/Desktop/iTechArt_\\u0421\\u0442\\u0430\\u0436\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430/songbird/songbird/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/\\u043E\\u043B\\u0435\\u0433/Desktop/iTechArt_\\u0421\\u0442\\u0430\\u0436\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430/songbird/songbird/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/\\u043E\\u043B\\u0435\\u0433/Desktop/iTechArt_\\u0421\\u0442\\u0430\\u0436\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430/songbird/songbird/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import firebase from\"firebase/compat\";import{toast,ToastContainer}from\"react-toastify\";import{useFormik}from\"formik\";import*as yup from\"yup\";import{TextField}from\"@material-ui/core\";import{useHistory}from\"react-router-dom\";import CustomButton from\"../customButton\";import{auth}from\"../../firebase/utils\";import\"./styles.scss\";import\"react-toastify/dist/ReactToastify.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SignIn=function SignIn(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var history=useHistory();var validationSchema=yup.object({email:yup.string().email(\"Введите корректный адрес эл. почты\").required(\"Пожалуйста, заполните данное поле\"),password:yup.string().required(\"Пожалуйста, заполните данное поле\")});var formik=useFormik({initialValues:{email:\"\",password:\"\"},onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);_context.next=4;return auth.signInWithEmailAndPassword(values.email,values.password);case 4:history.go(0);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);toast.error(\"Не удалось войти\",{className:\"toast-error\",draggable:false,position:toast.POSITION.BOTTOM_CENTER});case 10:setLoading(false);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));function onSubmit(_x){return _onSubmit.apply(this,arguments);}return onSubmit;}(),validationSchema:validationSchema});var loginWithGoogle=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());case 3:history.go(0);_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);toast.error(\"Не удалось войти\",{className:\"toast-error\",draggable:false,position:toast.POSITION.BOTTOM_CENTER});case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,6]]);}));return function loginWithGoogle(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"sign-in\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"\\u0423 \\u043C\\u0435\\u043D\\u044F \\u0443\\u0436\\u0435 \\u0435\\u0441\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\\u0412\\u043E\\u0439\\u0434\\u0438\\u0442\\u0435 \\u0432 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0443, \\u0443\\u043A\\u0430\\u0437\\u0430\\u0432 \\u0441\\u0432\\u043E\\u0439 \\u0430\\u0434\\u0440\\u0435\\u0441 \\u044D\\u043B\\u0435\\u043A\\u0442\\u0440\\u043E\\u043D\\u043D\\u043E\\u0439 \\u043F\\u043E\\u0447\\u0442\\u044B \\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{id:\"emailSignIn\",name:\"email\",label:\"Email\",value:formik.values.email,onChange:formik.handleChange,error:formik.touched.email&&Boolean(formik.errors.email),helperText:formik.touched.email&&formik.errors.email}),/*#__PURE__*/_jsx(TextField,{id:\"passwordSignIn\",name:\"password\",type:\"password\",label:\"Password\",value:formik.values.password,onChange:formik.handleChange,error:formik.touched.password&&Boolean(formik.errors.password),helperText:formik.touched.password&&formik.errors.password}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(CustomButton,{disabled:loading,type:\"submit\",children:\"Sign in\"}),/*#__PURE__*/_jsx(CustomButton,{type:\"submit\",onClick:loginWithGoogle,isGoogleSignIn:true,children:\"Sign in with Google\"})]})]}),/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(ToastContainer,{})})]});};export default SignIn;","map":{"version":3,"sources":["C:/Users/олег/Desktop/iTechArt_Стажировка/songbird/songbird/src/components/signIn/index.jsx"],"names":["React","useState","firebase","toast","ToastContainer","useFormik","yup","TextField","useHistory","CustomButton","auth","SignIn","loading","setLoading","history","validationSchema","object","email","string","required","password","formik","initialValues","onSubmit","values","signInWithEmailAndPassword","go","error","className","draggable","position","POSITION","BOTTOM_CENTER","loginWithGoogle","signInWithPopup","GoogleAuthProvider","handleSubmit","handleChange","touched","Boolean","errors"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport firebase from \"firebase/compat\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { useFormik } from \"formik\";\nimport * as yup from \"yup\";\nimport { TextField } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\n\nimport CustomButton from \"../customButton\";\nimport { auth } from \"../../firebase/utils\";\n\nimport \"./styles.scss\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst SignIn = () => {\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n\n  const validationSchema = yup.object({\n    email: yup\n      .string()\n      .email(\"Введите корректный адрес эл. почты\")\n      .required(\"Пожалуйста, заполните данное поле\"),\n    password: yup.string().required(\"Пожалуйста, заполните данное поле\"),\n  });\n\n  const formik = useFormik({\n    initialValues: {\n      email: \"\",\n      password: \"\",\n    },\n    onSubmit: async (values) => {\n      try {\n        setLoading(true);\n        await auth.signInWithEmailAndPassword(values.email, values.password);\n        history.go(0);\n      } catch {\n        toast.error(\"Не удалось войти\", {\n          className: \"toast-error\",\n          draggable: false,\n          position: toast.POSITION.BOTTOM_CENTER,\n        });\n      }\n\n      setLoading(false);\n    },\n    validationSchema: validationSchema,\n  });\n\n  const loginWithGoogle = async () => {\n    try {\n      await auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());\n      history.go(0);\n    } catch {\n      toast.error(\"Не удалось войти\", {\n        className: \"toast-error\",\n        draggable: false,\n        position: toast.POSITION.BOTTOM_CENTER,\n      });\n    }\n  };\n\n  return (\n    <div className=\"sign-in\">\n      <div className=\"title\">У меня уже есть аккаунт</div>\n      <div>Войдите в систему, указав свой адрес электронной почты и пароль</div>\n      <form onSubmit={formik.handleSubmit}>\n        <TextField\n          id=\"emailSignIn\"\n          name=\"email\"\n          label=\"Email\"\n          value={formik.values.email}\n          onChange={formik.handleChange}\n          error={formik.touched.email && Boolean(formik.errors.email)}\n          helperText={formik.touched.email && formik.errors.email}\n        />\n        <TextField\n          id=\"passwordSignIn\"\n          name=\"password\"\n          type=\"password\"\n          label=\"Password\"\n          value={formik.values.password}\n          onChange={formik.handleChange}\n          error={formik.touched.password && Boolean(formik.errors.password)}\n          helperText={formik.touched.password && formik.errors.password}\n        />\n        <div className=\"buttons\">\n          <CustomButton disabled={loading} type=\"submit\">\n            Sign in\n          </CustomButton>\n          <CustomButton type=\"submit\" onClick={loginWithGoogle} isGoogleSignIn>\n            Sign in with Google\n          </CustomButton>\n        </div>\n      </form>\n      <>\n        <ToastContainer />\n      </>\n    </div>\n  );\n};\n\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}